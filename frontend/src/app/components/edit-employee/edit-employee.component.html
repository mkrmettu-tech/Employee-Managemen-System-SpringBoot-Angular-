<div class="edit-employee-container">
  <div class="form-header">
    <h2>Edit Employee</h2>
    <button class="btn btn-secondary" (click)="cancel()">‚Üê Back to List</button>
  </div>

  <div *ngIf="loading" class="loading">
    <div class="spinner"></div>
    <p>Loading employee data...</p>
  </div>

  <div *ngIf="errorMessage" class="error-message">
    {{ errorMessage }}
  </div>

  <form *ngIf="!loading" (ngSubmit)="updateEmployee()" #employeeForm="ngForm">
    <div class="form-grid">
      <!-- Personal Information Section -->
      <div class="form-section">
        <h3>Personal Information</h3>
        
        <div class="form-group">
          <label for="firstName">First Name <span class="required">*</span></label>
          <input
            type="text"
            id="firstName"
            [(ngModel)]="employee.firstName"
            name="firstName"
            required
            class="form-control"
            placeholder="Enter first name"
          />
        </div>

        <div class="form-group">
          <label for="lastName">Last Name <span class="required">*</span></label>
          <input
            type="text"
            id="lastName"
            [(ngModel)]="employee.lastName"
            name="lastName"
            required
            class="form-control"
            placeholder="Enter last name"
          />
        </div>

        <div class="form-group">
          <label for="email">Email <span class="required">*</span></label>
          <input
            type="email"
            id="email"
            [(ngModel)]="employee.email"
            name="email"
            required
            class="form-control"
            placeholder="john.doe@example.com"
          />
        </div>

        <div class="form-group">
          <label for="phoneNumber">Phone Number <span class="required">*</span></label>
          <input
            type="tel"
            id="phoneNumber"
            [(ngModel)]="employee.phoneNumber"
            name="phoneNumber"
            required
            pattern="[0-9]{10}"
            class="form-control"
            placeholder="1234567890"
          />
        </div>

        <div class="form-group">
          <label for="address">Address</label>
          <textarea
            id="address"
            [(ngModel)]="employee.address"
            name="address"
            class="form-control"
            rows="3"
            placeholder="Enter address"
          ></textarea>
        </div>
      </div>

      <!-- Employment Information Section -->
      <div class="form-section">
        <h3>Employment Information</h3>

        <div class="form-group">
          <label for="department">Department <span class="required">*</span></label>
          <select
            id="department"
            [(ngModel)]="employee.department"
            name="department"
            required
            class="form-control"
          >
            <option value="">Select Department</option>
            <option *ngFor="let dept of departments" [value]="dept">{{ dept }}</option>
          </select>
        </div>

        <div class="form-group">
          <label for="position">Position <span class="required">*</span></label>
          <input
            type="text"
            id="position"
            [(ngModel)]="employee.position"
            name="position"
            required
            class="form-control"
            placeholder="Enter position"
          />
        </div>

        <div class="form-group">
          <label for="hireDate">Hire Date <span class="required">*</span></label>
          <input
            type="date"
            id="hireDate"
            [(ngModel)]="employee.hireDate"
            name="hireDate"
            required
            class="form-control"
          />
        </div>

        <div class="form-group">
          <label for="salary">Salary <span class="required">*</span></label>
          <input
            type="number"
            id="salary"
            [(ngModel)]="employee.salary"
            name="salary"
            required
            min="0"
            step="0.01"
            class="form-control"
            placeholder="Enter salary"
          />
        </div>

        <div class="form-group">
          <label for="status">Status <span class="required">*</span></label>
          <select
            id="status"
            [(ngModel)]="employee.status"
            name="status"
            required
            class="form-control"
          >
            <option *ngFor="let status of statuses" [value]="status">{{ status }}</option>
          </select>
        </div>
      </div>
    </div>

    <div class="form-actions">
      <button type="submit" class="btn btn-primary">Update Employee</button>
      <button type="button" class="btn btn-secondary" (click)="cancel()">Cancel</button>
    </div>
  </form>
</div>
